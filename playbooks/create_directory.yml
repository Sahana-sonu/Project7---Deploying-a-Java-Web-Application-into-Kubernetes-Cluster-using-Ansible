- name: CREATE DIRECTORY & COPY FILES
  hosts: localhost
  remote_user: root
  become: yes
  become_method: sudo

  tasks:
    - name: CREATE DOCKER DIRECTORY
      file:
        path: /opt/docker
        state: directory
        remote_src: true
        mode: "0755"

    - name: COPY DOCKERFILE
      copy:
        src: ../Dockerfile
        dest: /opt/docker
        remote_src: true

    - name: COPY WAR FILE
      copy:
        src: ../webapp/target/webapp.war
        dest: /opt/docker
        remote_src: true
